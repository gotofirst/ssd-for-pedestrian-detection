# -*- coding: utf-8 -*-
# config.py
import os.path

# gets home dir cross platform
home = os.path.expanduser("/home/neuiva2/wangironman/SSD-change/pytorch-ssd-vis+seg/")
ddir = os.path.join("/home/neuiva2/wangironman/SSD-change/pytorch-ssd-vis+seg/data/VOCdevkit/")

# /home/neuiva1/sol/pytorch_experiments/pytorch-ssd-2

# note: if you used our download scripts, this should be right
VOCroot = ddir # path to VOCdevkit root dir

#SSD512 and SSD300 CONFIGS
# newer version: use additional conv12_2 layer as last layer before multibox layers
v = {
    '512': {

        'feature_maps' : [64, 32, 16, 8, 4, 2, 1],

        'min_dim' : 512,

        'steps' : [8, 16, 32, 64, 128, 256, 512],

        #cfg for caltech
        'min_sizes' : [20, 20, 80, 80, 180, 180, 280],
        'max_sizes' : [80, 80, 180, 180, 280, 280, 380],

        'aspect_ratios' : [[0.41], [0.41], [0.41], [0.41], [0.41], [0.41], [0.41]],

        'variance' : [0.1, 0.2],

        'clip' : True,

        'name' : 'v2_512',

    },

    '300': {

        'feature_maps': [38, 19, 10, 5, 3, 1],

        'min_dim': 300,

        'steps': [8, 16, 32, 64, 100, 300],

        #cfg for caltech
        'min_sizes': [20, 20, 80, 80, 180, 280],
        'max_sizes': [80, 80, 180, 180, 280, 380],

        # 'aspect_ratios' : [[2, 1/2], [2, 1/2, 3, 1/3], [2, 1/2, 3, 1/3],
        #                    [2, 1/2, 3, 1/3], [2, 1/2], [2, 1/2]],
        'aspect_ratios': [[0.41], [0.41], [0.41], [0.41], [0.41], [0.41]],

        'variance': [0.1, 0.2],

        'clip': True,

        'name': 'v2_300',

    },

    # TODO 代码正确后，统一(w, h)的顺序

    #unicoe code
    '[640,480]': {
        'feature_maps': [[60,80], [30,40], [15,20], [8,10], [6,8], [4,6],[2,4]],
        'min_dim': [640,480],
        'steps': [[8,8], [16,16], [32,32], [60,64], [80,80], [120,106] ,[240,160]],
        'min_sizes' : [20, 20, 80, 80, 180, 180,280],
        'max_sizes' : [80, 80, 180, 180, 280, 280, 380],
        'aspect_ratios': [[0.41], [0.41], [0.41], [0.41], [0.41], [0.41], [0.41]],
        'variance': [0.1, 0.2],
        'clip': True,
        'name': 'v2_300',
    },

#unicoe code
    '640_480_base512': {

        'feature_maps': [[60,80], [30,40], [15,20], [8,10], [6,8], [4,6],[2,4]],  # 提框的feature maps
        'min_dim': [640,480],    # w,h
        'steps': [[8,8], [16,16], [32,32], [60,64], [80,80], [120,106] ,[240,160]],   # 倍数要对齐, w对应w， h对应h
        'min_sizes' : [20, 20, 80, 80, 180, 180,280],
        'max_sizes' : [80, 80, 180, 180, 280, 280, 380],
        'aspect_ratios': [[0.41], [0.41], [0.41], [0.41], [0.41], [0.41], [0.41]],
        'variance': [0.1, 0.2],
        'clip': True,
        'name': 'v2_300',

    },

    '640_480_base512_again1': {

        # 'feature_maps': [[60,80], [30,40], [15,20], [8,10], [6,8], [4,6]],
        'feature_maps': [[60, 80], [30, 40], [15, 20], [8, 10], [6, 8], [4, 6], [2, 4]],  # 提框的feature maps

        'min_dim': [640, 480],  # w,h

        'steps': [[8, 8], [16, 16], [32, 32], [60, 64], [80, 80], [120, 106], [240, 160]],  # 倍数要对齐, w对应w， h对应h

        # cfg for caltech
        'min_sizes': [20, 80, 130, 180, 230, 280, 380],
        'max_sizes': [80, 130, 180, 230, 280, 380, 480],
        # 'max_sizes' : [80, 80, 180, 180, 280, 280, 380],

        # 'aspect_ratios' : [[2, 1/2], [2, 1/2, 3, 1/3], [2, 1/2, 3, 1/3],
        #                    [2, 1/2, 3, 1/3], [2, 1/2], [2, 1/2]],
        # 'aspect_ratios': [[0.41], [0.41, 0.41], [0.41, 0.41], [0.41, 0.41], [0.41], [0.41]],
        'aspect_ratios': [[0.41], [0.41], [0.41], [0.41], [0.41], [0.41], [0.41]],

        'variance': [0.1, 0.2],

        'clip': True,

        'name': 'v2_300',

    },

    '640_480_base512_again2': {

        # 'feature_maps': [[60,80], [30,40], [15,20], [8,10], [6,8], [4,6]],
        'feature_maps': [[60, 80], [30, 40], [15, 20], [8, 10], [6, 8], [4, 6], [2, 4]],  # 提框的feature maps

        'min_dim': [640, 480],  # w,h

        'steps': [[8, 8], [16, 16], [32, 32], [60, 64], [80, 80], [120, 106], [240, 160]],  # 倍数要对齐, w对应w， h对应h

        # cfg for caltech
        'min_sizes': [20, 40, 100, 160, 220, 280, 380],
        'max_sizes': [60, 120, 180, 240, 300, 380, 480],
        # 'max_sizes' : [80, 80, 180, 180, 280, 280, 380],

        # 'aspect_ratios' : [[2, 1/2], [2, 1/2, 3, 1/3], [2, 1/2, 3, 1/3],
        #                    [2, 1/2, 3, 1/3], [2, 1/2], [2, 1/2]],
        # 'aspect_ratios': [[0.41], [0.41, 0.41], [0.41, 0.41], [0.41, 0.41], [0.41], [0.41]],
        'aspect_ratios': [[0.41], [0.41], [0.41], [0.41], [0.41], [0.41], [0.41]],

        'variance': [0.1, 0.2],

        'clip': True,

        'name': 'v2_300',

    },
    '960_720_base512': {

        # 'feature_maps': [[60,80], [30,40], [15,20], [8,10], [6,8], [4,6]],
        'feature_maps': [[90, 120], [45, 60], [23, 30], [12, 15], [10, 13], [8, 11], [6, 9]],  # 提框的feature maps

        'min_dim': [640, 480],  # w,h

        'steps': [[8, 8], [16, 16], [32, 31], [64, 60], [73, 72], [87, 90], [106, 120]],  # 倍数要对齐, w对应w， h对应h

        # cfg for caltech
        'min_sizes': [20, 20, 80, 80, 180, 180, 280],
        'max_sizes': [80, 80, 180, 180, 280, 380, 480],
        # 'max_sizes' : [80, 80, 180, 180, 280, 280, 380],

        # 'aspect_ratios' : [[2, 1/2], [2, 1/2, 3, 1/3], [2, 1/2, 3, 1/3],
        #                    [2, 1/2, 3, 1/3], [2, 1/2], [2, 1/2]],
        # 'aspect_ratios': [[0.41], [0.41, 0.41], [0.41, 0.41], [0.41, 0.41], [0.41], [0.41]],
        'aspect_ratios': [[0.41], [0.41], [0.41], [0.41], [0.41], [0.41], [0.41]],

        'variance': [0.1, 0.2],

        'clip': True,

        'name': 'v2_300',

    },
'[960, 720]': {

        # 'feature_maps': [[60,80], [30,40], [15,20], [8,10], [6,8], [4,6]],
        'feature_maps': [[90, 120], [45, 60], [23, 30], [12, 15], [10, 13], [8, 11], [6, 9]],  # 提框的feature maps

        'min_dim': [640, 480],  # w,h

        'steps': [[8, 8], [16, 16], [32, 31], [64, 60], [73, 72], [87, 90], [106, 120]],  # 倍数要对齐, w对应w， h对应h

        # cfg for caltech
        'min_sizes': [20, 20, 80, 80, 180, 180, 280],
        'max_sizes': [80, 80, 180, 180, 280, 380, 480],
        # 'max_sizes' : [80, 80, 180, 180, 280, 280, 380],

        # 'aspect_ratios' : [[2, 1/2], [2, 1/2, 3, 1/3], [2, 1/2, 3, 1/3],
        #                    [2, 1/2, 3, 1/3], [2, 1/2], [2, 1/2]],
        # 'aspect_ratios': [[0.41], [0.41, 0.41], [0.41, 0.41], [0.41, 0.41], [0.41], [0.41]],
        'aspect_ratios': [[0.41], [0.41], [0.41], [0.41], [0.41], [0.41], [0.41]],

        'variance': [0.1, 0.2],

        'clip': True,

        'name': 'v2_300',

    },

    '960_540_base512': {

        # 'feature_maps': [[60,80], [30,40], [15,20], [8,10], [6,8], [4,6]],
        'feature_maps': [[68, 120], [34, 60], [17, 30], [9, 15], [7, 13], [5, 11], [3, 9]],  # 提框的feature maps

        'min_dim': [960, 540],  # w,h

        'steps': [[8, 8], [15, 16], [32, 32], [60, 64], [77, 74], [108, 87], [180, 107]],  # 倍数要对齐, w对应w， h对应h

        # cfg for caltech
        'min_sizes': [20, 20, 80, 80, 180, 280, 380],
        'max_sizes': [80, 80, 180, 180, 280, 380, 480],

        # 'aspect_ratios' : [[2, 1/2], [2, 1/2, 3, 1/3], [2, 1/2, 3, 1/3],
        #                    [2, 1/2, 3, 1/3], [2, 1/2], [2, 1/2]],
        # 'aspect_ratios': [[0.41], [0.41, 0.41], [0.41, 0.41], [0.41, 0.41], [0.41], [0.41]],
        'aspect_ratios': [[0.41], [0.41], [0.41], [0.41], [0.41], [0.41], [0.41]],

        'variance': [0.1, 0.2],

        'clip': True,

        'name': 'v2_300',

    },

    '1920_1080_base512': {

        # 'feature_maps': [[60,80], [30,40], [15,20], [8,10], [6,8], [4,6]],
        'feature_maps': [[135, 240], [67, 120], [34, 60], [17, 30], [15, 28], [13, 26], [11, 24]],  # 提框的feature maps

        'min_dim': [1920, 1080],  # w,h

        'steps': [[8, 8], [16, 16], [32, 32], [64, 64], [72, 68], [83, 73], [98, 80]],  # 倍数要对齐, w对应w， h对应h

        # cfg for caltech
        'min_sizes': [20, 20, 80, 80, 180, 380, 580],
        'max_sizes': [80, 80, 180, 180, 380, 580, 780],

        # 'aspect_ratios' : [[2, 1/2], [2, 1/2, 3, 1/3], [2, 1/2, 3, 1/3],
        #                    [2, 1/2, 3, 1/3], [2, 1/2], [2, 1/2]],
        # 'aspect_ratios': [[0.41], [0.41, 0.41], [0.41, 0.41], [0.41, 0.41], [0.41], [0.41]],
        'aspect_ratios': [[0.41], [0.41], [0.41], [0.41], [0.41], [0.41], [0.41]],

        'variance': [0.1, 0.2],

        'clip': True,

        'name': 'v2_300',

    },

'1920_1080_base512_1': {

        # 'feature_maps': [[60,80], [30,40], [15,20], [8,10], [6,8], [4,6]],
        'feature_maps': [[135, 240], [67, 120], [34, 60], [17, 30], [15, 28], [13, 26], [11, 24]],  # 提框的feature maps

        'min_dim': [1920, 1080],  # w,h

        'steps': [[8, 8], [16, 16], [32, 32], [64, 64], [72, 68], [83, 73], [98, 80]],  # 倍数要对齐, w对应w， h对应h

        # cfg for caltech
        'min_sizes': [20, 20, 80, 80, 180, 380, 680],
        'max_sizes': [80, 80, 180, 180, 380, 680, 980],

        # 'aspect_ratios' : [[2, 1/2], [2, 1/2, 3, 1/3], [2, 1/2, 3, 1/3],
        #                    [2, 1/2, 3, 1/3], [2, 1/2], [2, 1/2]],
        # 'aspect_ratios': [[0.41], [0.41, 0.41], [0.41, 0.41], [0.41, 0.41], [0.41], [0.41]],
        'aspect_ratios': [[0.41], [0.41], [0.41], [0.41], [0.41], [0.41], [0.41]],

        'variance': [0.1, 0.2],

        'clip': True,

        'name': 'v2_300',

    },

'640_480_RFB': {

        #'feature_maps': [[60,80], [30,40], [15,20], [8,10], [6,8], [4,6]],
        'feature_maps': [[60,80], [30,40], [15,20], [8,10], [4,5], [2,3]],  # 提框的feature maps

        'min_dim': [640,480],    # w,h

        'steps': [[8,8], [16,16], [32,32], [60,64], [120,128], [240,160]],   # 倍数要对齐, w对应w， h对应h

        #cfg for caltech
        'min_sizes' : [20, 20, 80, 80, 180, 280],
        'max_sizes' : [80, 80, 180, 180, 280, 380],

        # 'aspect_ratios' : [[2, 1/2], [2, 1/2, 3, 1/3], [2, 1/2, 3, 1/3],
        #                    [2, 1/2, 3, 1/3], [2, 1/2], [2, 1/2]],
        #'aspect_ratios': [[0.41], [0.41, 0.41], [0.41, 0.41], [0.41, 0.41], [0.41], [0.41]],
        'aspect_ratios': [[0.41], [0.41], [0.41], [0.41], [0.41], [0.41]],

        'variance': [0.1, 0.2],

        'clip': True,

        'name': 'v2_300',

    },

    '[2048, 1024]': {

        #'feature_maps': [[60,80], [30,40], [15,20], [8,10], [6,8], [4,6]],
        'feature_maps': [[128,256], [64,128], [32,64], [16,32], [14,30], [12,28],[10,26]],  # 提框的feature maps

        'min_dim': [2048, 1024],    # w,h

        'steps': [[8,8], [16,16], [32,32], [64,64], [73,68], [120,106] ,[102,78]],   # 倍数要对齐, w对应w， h对应h

        #cfg for caltech\
        'min_sizes' : [20, 20, 20, 200, 300, 400,600],
        'max_sizes' : [100, 100, 100, 300, 400, 600, 800],

        # 'aspect_ratios' : [[2, 1/2], [2, 1/2, 3, 1/3], [2, 1/2, 3, 1/3],
        #                    [2, 1/2, 3, 1/3], [2, 1/2], [2, 1/2]],
        #'aspect_ratios': [[0.41], [0.41, 0.41], [0.41, 0.41], [0.41, 0.41], [0.41], [0.41]],
        'aspect_ratios': [[0.41], [0.41], [0.41], [0.41], [0.41], [0.41], [0.41]],

        'variance': [0.1, 0.2],

        'clip': True,

        'name': 'v2_300',

    },

    '[1024, 512]': {

        # 'feature_maps': [[60,80], [30,40], [15,20], [8,10], [6,8], [4,6]],
        'feature_maps': [[64, 128], [32, 64], [16, 32], [8, 16], [6, 14], [4, 12], [2, 10]],  # 提框的feature maps

        'min_dim': [1024, 512],  # w,h

        'steps': [[8, 8], [16, 16], [32, 32], [64, 64], [85, 73], [128, 85], [256, 102]],  # 倍数要对齐, w对应w， h对应h

        # cfg for caltech\
        'min_sizes': [10, 10, 10, 70, 70, 170, 270],
        'max_sizes': [70, 70, 70, 170, 170, 270, 370],

        # 'aspect_ratios' : [[2, 1/2], [2, 1/2, 3, 1/3], [2, 1/2, 3, 1/3],
        #                    [2, 1/2, 3, 1/3], [2, 1/2], [2, 1/2]],
        # 'aspect_ratios': [[0.41], [0.41, 0.41], [0.41, 0.41], [0.41, 0.41], [0.41], [0.41]],
        'aspect_ratios': [[0.41], [0.41], [0.41], [0.41], [0.41], [0.41], [0.41]],

        'variance': [0.1, 0.2],

        'clip': True,

        'name': 'v2_300',

    },

    '[1280, 960]': {

        # 'feature_maps': [[60,80], [30,40], [15,20], [8,10], [6,8], [4,6]],
        'feature_maps': [[120, 160], [60, 80], [30, 40], [15, 20], [13, 18], [11, 16]],  # 提框的feature maps

        'min_dim': [1280, 960],  # w,h

        'steps': [[8, 8], [16, 16], [32, 32], [64, 64], [74, 71], [87, 80]],  # 倍数要对齐, w对应w， h对应h

        # cfg for caltech
        'min_sizes' : [20, 20, 80, 80, 180, 280],
        'max_sizes' : [80, 80, 180, 180, 280, 380],

        # 'aspect_ratios' : [[2, 1/2], [2, 1/2, 3, 1/3]`, [2, 1/2, 3, 1/3],
        #                    [2, 1/2, 3, 1/3], [2, 1/2], [2, 1/2]],
        # 'aspect_ratios': [[0.41], [0.41, 0.41], [0.41, 0.41], [0.41, 0.41], [0.41], [0.41]],
        'aspect_ratios': [[0.41], [0.41], [0.41], [0.41], [0.41], [0.41]],

        'variance': [0.1, 0.2],

        'clip': True,

        'name': 'v2_300',

    }

}
